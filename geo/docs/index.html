<!DOCTYPE html>
<html>
<head>
  <title>AlphaGeometry Input</title>
</head>
<body>
  <h2>Submit Geometry Problem</h2>
  <form id="problem-form">
    <textarea id="problem-input" rows="10" cols="60" placeholder="Enter formal geometry input..."></textarea><br>
    <button type="submit">Submit</button>
  </form>
  <p id="status"></p>
  <script src="token.js"> </script>

  <script>
    const repo = "RandomGuy1520/RandomGuy1520.github.io";
    const token = "Vm0wd2QyUXlVWGxWV0d4V1YwZDRXRmxVU205V01WbDNXa2M1VjJKR2JETlhhMUpUVmpBeFYySkVUbGhoTWsweFZtcEtTMUl5U2tWVWJHaG9UVlZ3VlZadGNFdFRNVWw1VTJ0V1ZXSkhhRzlVVm1oRFZWWmFkR1ZHV214U2JHdzFWa2QwYzJGc1NuUmhSemxWVmpOT00xcFZXbUZrUjA1R1drWlNUbUpGY0VwV2JURXdZVEZrU0ZOclpHcFNWR3hoV1d4b1UxUkdXbk5YYlVacVZtdGFNRlZ0ZUZOVWJVcEdZMFZ3VjJKVVJYZFpla3BIWXpGT2RWVnRhRk5sYlhoWFZtMHhORmxWTUhoWGJrNVlZbFZhY1ZadGRHRk5SbkJHVjJ4T1ZXSkdjRmxhU0hCRFZqSkZlVlJZYUZkU1JWcHlWVEJhVDJOc2NFaGpSazVwVmpKb1dGWnRNVEJXTVd4WFZHdGtWbUpHV2xSWmJHaFRWMFpTVjFwR1RteGlSbXcxVkZaU1UxWnJNWEpqUm1oV1RXNW9lbFpxUm1GT2JFWlpZVVphYkdFeGNEWldiWEJIVkRKU1YxWnVUbGhpVjJoeldXeG9iMWRzV1hoYVJGSnBUVlpXTTFSVmFHOVhSMHB5VGxac1dtSkhhRlJXTVZwWFkxWktjbVJHVWxkaVJtOTNWMnhXWVZReFdsaFRhMlJxVWtWYVYxWnFUbTlsYkZweFVtMUdVMkpWVmpaWlZWcHJWVEZLVjJORVdsZGlXRUpJVmtSS1UxWXhWblZWYlhCVFlrVndWVlp0ZUc5Uk1XUlhWMWhvWVZKR1NuQlVWbHBYVFRGU1ZtRkhPVmhTTUhCSlZsZDRjMWR0U2tkWGJXaGFUVzVvV0ZreFdrdGpiVkpIVld4T2FWSXpZM2hXYTFwaFZURlZlRmR1U2s1WFJYQlpWbXRXZDFkR2JITmhSazVPVFZad2VGVXlkREJXTVZweVkwWndXR0V4Y0haV2FrcExVMVpHZFdKR1pGZFNWWEJ2Vm10U1MxUXlUWGxVYTFwb1VqTkNWRmxZY0Zka01WcDBZMFYwYVUxWFVsaFdNV2h2V1ZaS1JsTnRSbGRoYTFwSVZGUkdVMVp0UmtoUFZtUk9WakZLU2xac1pEUmpNV1IwVTJ0b2FGSnNTbUZVVmxwM1pXeHJlV1ZIZEd0U2EzQXdXbFZhYTJGWFJYZGpSV3hYWWxoQ1RGcFhjekZYUmtweVdrWm9hV0Y2Vm5oV1ZFSnJUa1prUjFWc1pGaGhNMUpVVlcxNGQyVkdWbGRoUnpsb1RWWndlbFl5Y0VkV01ERjFZVWhLVjJGcldreFdha3BQVWpKS1IxcEdaRTVOUlhCS1ZqRmFVMU14VW5SV2EyUmhVMFphVmxsc1ZtRldSbEpZVGxjNVYxWnNjRWhYVkU1dllWVXhXRlZyYUZkTmFsWlVWa2Q0WVZKc1RuTmhSbFpYVFRKb1NWWkhlR0ZaVm1SR1RsWmFVRlp0VWs5V2FrWkxVMnhrYzFadE9WVk5WbkF3VlcwMVMxWkhTbGhoUjBaVlZteHdNMXBYZUhKbFZURldXa1pPYVZKcmNEWldhMk40WXpGVmVWTnVTbFJpVlZwWVZGYzFiMWRHYkZWU2EzQnNVbTFTZWxsVldsTmhSVEZ6VTI1b1YxWkZTblpWVkVaelZqRldjMWRzYUdoTk1VcGFWbGN4TkdReVZrZFdibEpyVWtWS2IxbFljRWRsVmxKelZtNWtWMDFFUmpGWlZXaExWakZhUmxkcmVGZGhhM0JRVlRCVk5WWXhjRWhoUjJoT1UwVktNbFp0TVRCVk1VMTRWVzVTVjJFeVVtaFZNRnBoVm14c2MxWnRSbGRTYkVwWlZHeGpOVll5U2tkalJteGhWbFp3Y2xsVVFYaGpNVTUxWTBaa1RtRnNXbFZXYTJRMFlURk9SMVp1VGxoaVJscFlWRlJHUzA1c1drZFZhMlJXVFZad01GVnRkRzlWUmxwMFlVWlNWVlpXY0dGVVZscGhZekZ3UlZWdGNFNVdNVWwzVmxkNGIyTXhXblJUYTJSVVlsVmFWbFp0ZUhkTk1YQllaVWhLYkZZeFdrbGFSV1F3VmpKS2NsTnJhRmRTTTJob1ZrUktSMVl4VG5OYVIyaE9UV3hLV1ZkWGVHOVJNVkpIVlc1S1dHSkZjSE5WYlRGVFRWWlZlV042UmxoU2EzQmFWVmMxYjFZeFdYcGhTRXBYVmtWYWVsWnFSbGRqTVdSellVZG9UazFWY0RKV2JHTjRUa2RSZVZaclpGZGliRXBQVm14a1UxWnNVbGhrU0dSVFRWZDBNMWxWWXpWV01ERldZa1JhV2xaWFVuWldNbmhoVjBaV2NscEhSbGRXTVVwUlZsZDRZV0V5VFhoalJXaHBVbTFvVkZac2FFTlRNVnB4VW0xR1ZrMVZNVFJXYkdodlYwWmtTR0ZHYkZwaVdHaG9WbTE0YzJOc2NFaFBWM0JUWWtoQ05GWlVTWGRPVmxwelUyNU9hbEpYYUZoVVZ6VnZZMnhzVlZGWWFHcGlWWEJHVmxkNGExUnNXWGxoUkVwWFRWWndhRlY2Umt0ak1WSjFWV3hDVjJKR2NGbFhWM1J2VVRGa1YxZHJhR3hTTUZwaFZtMHhVMUl4VW5OWGJVWldVbXhzTlZsVmFFTldiVXBJWVVWU1YwMXVhR2haZWtaM1VsWldkR0pGTlZkaVdHUTJWbXRhWVZZeVNYaFhibEpVWW1zMWNWVnRNVzlaVmxweVZtMUdUazFZUWxsYVZWcDNZa1pLZFZGclpGVk5WbkJRVmtkNGExSnNUbkppUm1oWFlrWndiMVpyVWt0U01WbDRWR3hzYWxKdVFrOVVWekZ2VjFaYVIxbDZSbWxOVjFKSVZqSTFVMkZ0Vm5KWGJHeFdZbGhTTTFwV1dtdGpiR1IwVDFkb1YwMUdhM2xXYlRBeFlqRlplRmRZY0doVFJYQllWbXRXWVZsV2NGWlhiR1JxVFZoQ1NGbFZaRzlVYXpGV1kwWmtWMkpIVGpSVWEyUlNaVlphY2xwR1pHbGlSWEJRVm0xNGExVXhXWGhWYkdoclUwZFNXRlJXWkRSbFZscFlUVlZrV0ZKcmJETldiWEJUVjJzeFNHRkZlRmROYm1ob1dYcEtUMU5XVG5OWGJXeFlVbFJGTUZac1pEUlpWa2w1VkZob2FsSlhhSEJWYlRGdlZrWmFjMkZGVGxSTlZuQXdWRlpTUTFack1WWk5WRkpYVm5wV1ZGWnFTa1psVmxaMVVteGFhVkl4UlhkV2JYQkhZekpOZVZKcldsVmlSMUpVV1d4b2IwNVdXblJOUkVab1RWWnNORll5TlU5aGJFcFlZVVpvVlZaNlZuWlpNbmh6VmxaR1dXRkdaRTVXTVVvMlYxWldZV0V4VW5OWFdHeG9Va1Z3V0ZsWGRFdGpiRlkyVW0xMFYwMVdjREZWTW5oRFZqSktTVkZ1WkZkaVdGSllWbTB4VW1WR1pIVlZiWEJUVmpGS1dGWkdXbUZqTURWSFYxaHNUMVpyTlc5VVZsWjNUVVpzVmxkc1RsZFdiSEJZV1RCa1IxWldXbk5qUjJoYVpXdGFlVnBYTVVkVFIwcEdUbFprYVdFd1dYcFdiWGhxWkRBeFYxUllhRmhoTW1oVldXdGtiMkl4Vm5GUmJVWlhZa1p3TVZrd1dtdGhNa3BKVVd4c1lWWlhhRXhaYTFwYVpVWmtjbUpIUmxOV01VbDZWMVphWVZsWFRuUlVhMXBwVW0xU2NGVnFRVEJOUm1SWlkwVmtWMkpXV2xoV1J6VlBZVlpLZFZGck9WVldla1oyVmpGYVlWSXhiRFpTYld4T1ZqRktTVll5ZEdGaE1XeFhVMnhrYWxORk5WaFpiR2hUVFRGd1YxZHNjR3hXTURReVZXMTRhMVJ0UlhwUmEzUlhWbTFOZUZscVJscGxSbVJaWTBkb1ZGSllRbGRYVmxKTFZURk9SMVp1UmxOaVdGSnlWbTE0UzJWc2JGWmFTRTVvVm14d2VWa3dXbXRXTWtwSVZHcFNWV0V5VWxOYVZscGhaRlpTYzJGSGJHaGxiRm95Vm14ak1XUXlUWGhhUm1SWFlteEtjbFV3WkZOak1XeHlWMjVPVDFac1NucFpWV1F3VmpBeFJWSnNaRnBoTVVwb1ZqSjRZVll5VGtsWGJHUk9ZbTFvYjFadGNFZFpWMDVYVm01T1lWSlVWbGhaYlhSTFUyeFplR0ZJWkZOTlZURTFWa1pvYjJGc1NsaGhSemxXWVd0d2RsWkVSbFprTVZweVpFVTFhVkp1UWpSV1Z6QjRVakZhY2sxV1dtbFNSa3BoV1ZSR2QyTnNXWGRYYlhSVVVqQmFTRlp0ZUhkaFZtUklZVWM1VjJKVVJUQlpla3BPWlVaa2RWVnNUbWxTTVVwVlYxZDBiMUV3TlZkWGJrWlVWMGRvVkZSV1pGTlRSbGw1VGxaT1YySlZjRWxaVlZwdlZqSkdjazVXVWxwTmJtaGhXa1JHZDFKc2NFWlBWMnhUVjBWSk1sWXhXbGRaVjBWNFZXNVNVMkpyTlZsWmExWmhWMFpTVjFkdVpHaFNiRmt5VlcxME1HRnJNVmRUYWtaWFVucEdkbFpVU2t0U01rNUhZa1prVTJKRmNFMVhWM0JIVkRGWmVGcElTbWhTTTFKVVZGVmFkMlJzV2tkYVNIQk9WakZhZWxkcmFFdGhSa3B5VGxjNVZWWnNXak5VVlZwaFYwZFdTRTlXYUdsV1dFSkpWMVJDVjA1R1duSk5XRlpvVWpKb1lWcFhkR0ZsYkZKMFpVVjBhazFXY0hsVWJGcHJZVmRGZDJFemFGZGlXRkpvVjFaYVdtVldTbGxpUms1cFlYcFdWbGRYZEd0T1IwbDRWbTVHVW1KVldsbFZiVEUwWlZaWmVVNVhkRlZoZWtaYVZWZDRjMWxXV2xoaFJrSlhVa1Z3VEZWdGN6RlhWMHBIWVVkb1RsZEZTbEpXYlhSclRrWnNXRlJ1VWxWaE1WcFpXV3RrVTJOR1ZuRlNhMXByVFZad2VWWlhkREJWTURGWFlrUlNWMUl6YUhwWlYzaExaRlpHY2s5V1ZsZGxhMW95Vm1wR1lWbFdTWGhpUkZwVFlrWndUMVpxUmt0VFZtUllaRWRHVjAxV1ZqVlZiR2gzVlcxS2NrNVdhRnBpUjJoUFdsVmFkMVl4WkhSa1IzQnBVMFZLUzFZeWRHRlpWbEp6VjJ4c1VsZEhhRmhXYlRGU1RVWldWVkpzY0d4U2JWSmFXVEJhWVdGWFJYcFJiVGxYWWxoQ1VGWkhjM2hXTVdSellVZDRVMVpVVmxsV2JYaFRVakZLYzFWc1dsWlhSMUpTVmxaUmQwOVJQVDA9";
	for (let i = 0; i < 14; i++)
	  token = atob(token);
    document.getElementById("problem-form").onsubmit = async (e) => {
      e.preventDefault();
      const content = document.getElementById("problem-input").value;

      const sha = await getCurrentSha();
      const body = {
        message: "User submitted new geometry problem",
        content: btoa(unescape(encodeURIComponent(content))),
        ...(sha && { sha })
      };

      const response = await fetch(`https://api.github.com/repos/RandomGuy1520/RandomGuy1520.github.io/contents/geo/problem.txt`, {
        method: "PUT",
        headers: {
          Authorization: `token ${token}`,
          "Content-Type": "application/json"
        },
        body: JSON.stringify(body)
      });

      if (response.ok) {
        document.getElementById("status").innerText = "Problem submitted successfully!";
      } else {
        document.getElementById("status").innerText = "Error submitting problem.";
      }
    };

    async function getCurrentSha() {
      const response = await fetch(`https://api.github.com/repos/RandomGuy1520/RandomGuy1520.github.io/contents/geo/problem.txt`, {
        headers: { Authorization: `token ${token}` }
      });
      if (!response.ok) return null;
      const data = await response.json();
      return data.sha;
    }
  </script>
</body>
</html>
